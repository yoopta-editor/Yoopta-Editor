---
title: splitBlock
description: Split a block at the current selection point
---

## Overview

The `splitBlock` method splits a block at the cursor position, creating a new block with the content after the split point.

## Signature

```typescript
Blocks.splitBlock(
  editor: YooEditor,
  options?: SplitBlockOptions
): string | undefined
```

## Parameters

<ParamField path="editor" type="YooEditor" required>
  The editor instance
</ParamField>

<ParamField path="options" type="SplitBlockOptions">
  Configuration object for splitting

  <Expandable title="properties">
    <ParamField path="at" type="number" default="editor.path.current">
      Position of the block to split
    </ParamField>

    <ParamField path="blockId" type="string">
      ID of the block to split
    </ParamField>

    <ParamField path="splitAt" type="Location">
      Specific position to split at. If not provided, uses current selection.
    </ParamField>

    <ParamField path="focus" type="boolean" default="true">
      Whether to focus after split
    </ParamField>

    <ParamField path="focusTarget" type="'new' | 'original' | 'none'" default="'new'">
      Which block to focus after split:
      - `'new'` - Focus the new block (default)
      - `'original'` - Focus the original block
      - `'none'` - Don't focus anything
    </ParamField>

    <ParamField path="preserveContent" type="boolean" default="true">
      Whether to preserve content in both blocks. If `false`, the new block will be empty.
    </ParamField>
  </Expandable>
</ParamField>

## Return Value

Returns the ID of the newly created block, or `undefined` if split failed.

## Examples

### Basic Usage

```typescript
import { Blocks } from '@yoopta/editor';

// Split current block at selection
const newBlockId = Blocks.splitBlock(editor);

// Split specific block
const newBlockId = Blocks.splitBlock(editor, { at: 3 });

// Split and focus original block
const newBlockId = Blocks.splitBlock(editor, {
  focusTarget: 'original',
});
```

### Split at Specific Position

```typescript
import { Point } from 'slate';

// Split at specific point
const newBlockId = Blocks.splitBlock(editor, {
  splitAt: { path: [0, 5], offset: 10 },
});
```

### Split Without Preserving Content

```typescript
// Create empty block after split
const newBlockId = Blocks.splitBlock(editor, {
  preserveContent: false,
});
```

## Use Cases

### Split on Enter Key

```typescript
const handleEnterKey = (editor: YooEditor) => {
  const newBlockId = Blocks.splitBlock(editor, {
    focusTarget: 'new',
  });
  
  if (newBlockId) {
    Blocks.focusBlock(editor, newBlockId);
  }
};
```

### Split and Transform New Block

```typescript
const splitAndTransform = (editor: YooEditor, newType: string) => {
  const newBlockId = Blocks.splitBlock(editor);
  
  if (newBlockId) {
    Blocks.toggleBlock(editor, newType, {
      at: Blocks.getBlock(editor, { id: newBlockId })?.meta.order,
    });
  }
};
```

## Notes

<Note>
  The split preserves content by default. Content before the split point stays in the original block, content after goes to the new block.
</Note>

<Note>
  If there's no selection and `splitAt` is not provided, the method will return `undefined`.
</Note>

<Note>
  The new block is inserted right after the original block and has the same type.
</Note>

<Warning>
  Splitting void blocks or blocks that don't support splitting may cause unexpected behavior.
</Warning>

<Info>
  The method handles text nodes intelligently - if splitting in the middle of a text node, it will split the text appropriately.
</Info>

## Type Definition

```typescript
type SplitBlockOptions = {
  at?: number; // YooptaPathIndex
  blockId?: string;
  splitAt?: Location;
  focus?: boolean;
  focusTarget?: 'new' | 'original' | 'none';
  preserveContent?: boolean;
};
```

## Related Methods

<CardGroup cols={2}>
  <Card title="mergeBlock" icon="compress" href="/api-reference/blocks/merge-block">
    Merge blocks back together
  </Card>
  <Card title="toggleBlock" icon="exchange-alt" href="/api-reference/blocks/toggle-block">
    Transform split block
  </Card>
  <Card title="focusBlock" icon="crosshairs" href="/api-reference/blocks/focus-block">
    Focus after split
  </Card>
</CardGroup>

