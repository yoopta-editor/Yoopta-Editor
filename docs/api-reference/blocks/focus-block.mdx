---
title: focusBlock
description: Focus a specific block in the editor
---

## Overview

The `focusBlock` method focuses a block and optionally sets the cursor position within it.

## Signature

```typescript
Blocks.focusBlock(
  editor: YooEditor,
  blockId: string,
  options?: FocusBlockOptions
): void
```

## Parameters

<ParamField path="editor" type="YooEditor" required>
  The editor instance
</ParamField>

<ParamField path="blockId" type="string" required>
  ID of the block to focus
</ParamField>

<ParamField path="options" type="FocusBlockOptions">
  Configuration object for focusing

  <Expandable title="properties">
    <ParamField path="waitExecution" type="boolean" default="true">
      Whether to wait before focusing (useful for async operations)
    </ParamField>

    <ParamField path="waitExecutionMs" type="number" default="0">
      Milliseconds to wait before focusing (if `waitExecution` is true)
    </ParamField>

    <ParamField path="shouldUpdateBlockPath" type="boolean" default="true">
      Whether to update `editor.path.current` after focusing
    </ParamField>

    <ParamField path="focusAt" type="Point | Path | undefined">
      Specific position to focus within the block:
      - `Point` - Specific cursor position
      - `Path` - Path to focus (offset will be 0)
      - `undefined` - Focus at first node (default)
    </ParamField>

    <ParamField path="slate" type="SlateEditor">
      Specific Slate editor instance to use. If not provided, uses the block's Slate editor.
    </ParamField>
  </Expandable>
</ParamField>

## Examples

### Basic Usage

```typescript
import { Blocks } from '@yoopta/editor';

// Focus a block
Blocks.focusBlock(editor, 'block-123');

// Focus with immediate execution
Blocks.focusBlock(editor, 'block-123', {
  waitExecution: false,
});
```

### Focus at Specific Position

```typescript
import { Point, Path } from 'slate';

// Focus at specific point
Blocks.focusBlock(editor, 'block-123', {
  focusAt: { path: [0, 0], offset: 5 },
});

// Focus at path
Blocks.focusBlock(editor, 'block-123', {
  focusAt: [0, 0],
});
```

### Focus After Async Operation

```typescript
const focusAfterInsert = async (editor: YooEditor, blockId: string) => {
  // Insert block
  const newBlockId = Blocks.insertBlock(editor, 'Paragraph');
  
  // Wait a bit for DOM to update, then focus
  Blocks.focusBlock(editor, newBlockId, {
    waitExecution: true,
    waitExecutionMs: 100,
  });
};
```

## Use Cases

### Focus After Insertion

```typescript
const insertAndFocus = (editor: YooEditor, type: string) => {
  const blockId = Blocks.insertBlock(editor, type, {
    at: editor.path.current,
  });
  
  Blocks.focusBlock(editor, blockId, {
    waitExecution: true,
  });
};
```

### Focus Next Block

```typescript
const focusNextBlock = (editor: YooEditor) => {
  const currentBlock = Blocks.getBlock(editor, { at: editor.path.current });
  if (!currentBlock) return;

  const allBlocks = Object.values(editor.children);
  const currentIndex = allBlocks.findIndex(b => b.id === currentBlock.id);
  const nextBlock = allBlocks[currentIndex + 1];

  if (nextBlock) {
    Blocks.focusBlock(editor, nextBlock.id);
  }
};
```

### Focus at End of Block

```typescript
import { Editor } from 'slate';

const focusAtEnd = (editor: YooEditor, blockId: string) => {
  const slate = Blocks.getBlockSlate(editor, { id: blockId });
  if (!slate) return;

  const endPoint = Editor.end(slate, []);
  
  Blocks.focusBlock(editor, blockId, {
    focusAt: endPoint,
  });
};
```

## Notes

<Note>
  The method automatically updates `editor.path.current` to the focused block's order if `shouldUpdateBlockPath` is `true`.
</Note>

<Note>
  If `waitExecution` is `true`, the focus operation is delayed, which is useful when the DOM hasn't fully updated yet (e.g., after inserting a block).
</Note>

<Warning>
  If the block doesn't exist or the Slate editor isn't available, the method will silently return without error.
</Warning>

<Info>
  The method uses ReactEditor.focus() internally, which ensures proper focus handling in React applications.
</Info>

## Type Definition

```typescript
type FocusBlockOptions = {
  waitExecution?: boolean;
  waitExecutionMs?: number;
  shouldUpdateBlockPath?: boolean;
  focusAt?: Point | Path;
  slate?: SlateEditor;
};
```

## Related Methods

<CardGroup cols={2}>
  <Card title="getBlock" icon="search" href="/api-reference/blocks/get-block">
    Get block before focusing
  </Card>
  <Card title="getBlockSlate" icon="code" href="/api-reference/blocks/get-block-slate">
    Get Slate editor for block
  </Card>
  <Card title="insertBlock" icon="plus" href="/api-reference/blocks/insert-block">
    Insert and focus block
  </Card>
</CardGroup>

